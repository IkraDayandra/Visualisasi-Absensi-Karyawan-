<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rekap Presensi - Dashboard Keterlambatan</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <!-- Dashboard Layout -->
    <div class="dashboard-layout" id="dashboardLayout">
        <!-- Fixed Navbar -->
        <nav class="navbar" id="navbar">
            <div class="nav-container">
                <button class="menu-toggle" onclick="toggleSidebar()">
                    <div class="hamburger">
                        <div class="line"></div>
                        <div class="line"></div>
                        <div class="line"></div>
                    </div>
                </button>
                <div class="profile-picture">
                    <i class="fas fa-user-circle"></i>
                </div>
            </div>
        </nav>

        <!-- Fixed Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h3><i class="fas fa-chart-line"></i> Dashboard</h3>
                <p>Keterlambatan System</p>
            </div>
            <ul class="sidebar-menu">
                <li>
                    <button class="sidebar-btn" onclick="navigateToPage('home.html')">
                        <i class="fas fa-home"></i> Home
                    </button>
                </li>
                <li>
                    <button class="sidebar-btn" onclick="navigateToPage('dashboard.html')">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </button>
                </li>
                <li>
                    <button class="sidebar-btn" onclick="navigateToPage('riwayat-presensi.html')">
                        <i class="fas fa-history"></i> Riwayat Presensi
                    </button>
                </li>
                <li>
                    <button class="sidebar-btn active" onclick="showPage('attendance-recap')">
                        <i class="fas fa-calendar-check"></i> Rekap Presensi
                    </button>
                </li>
                <li>
                    <button class="sidebar-btn" onclick="toggleSubmenu('visitor')">
                        <i class="fas fa-users"></i> Riwayat Tamu
                        <i class="fas fa-chevron-down submenu-icon"></i>
                    </button>
                    <ul class="submenu" id="visitor-submenu">
                        <li>
                            <button class="sidebar-btn" onclick="navigateToPage('riwayat-tamu.html?view=infografis')">
                                <i class="fas fa-chart-line"></i> Infografis
                            </button>
                        </li>
                        <li>
                            <button class="sidebar-btn" onclick="navigateToPage('riwayat-tamu.html?view=rekapitulasi')">
                                <i class="fas fa-table"></i> Rekapitulasi
                            </button>
                        </li>
                    </ul>
                </li>
                <li>
                    <button class="sidebar-btn" onclick="navigateToPage('admin.html')">
                        <i class="fas fa-user-shield"></i> Admin
                    </button>
                </li>
                <li>
                    <button class="sidebar-btn logout-btn" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </li>
            </ul>
        </div>

        <!-- Sidebar Overlay for Mobile -->
        <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>

        <!-- Main Content Area -->
        <div class="main-content" id="mainContent">
            <!-- Attendance Recap Page -->
            <div class="page active" id="attendance-recap-page">
                <div class="page-header">
                    <h1 class="page-title"><i class="fas fa-calendar-check"></i> Rekap Presensi</h1>
                    <p class="page-subtitle">Rekap Bulanan Kehadiran Karyawan</p>
                </div>
                
                <div class="table-container">
                    <div class="table-header">
                        <i class="fas fa-calendar"></i> Filter Rekap Presensi
                    </div>
                    <div class="table-filters">
                        <div class="filter-group">
                            <label>Nama Pegawai</label>
                            <input type="text" id="employeeNameSearch" placeholder="Cari nama pegawai..." onkeyup="searchEmployee()">
                        </div>
                        <div class="filter-group">
                            <label>Tahun</label>
                            <select id="yearFilter" onchange="filterRecap()">
                                <option value="2025">2025</option>
                                <option value="2024">2024</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>Bulan</label>
                            <select id="monthFilter" onchange="filterRecap()">
                                <option value="0">Januari</option>
                                <option value="1">Februari</option>
                                <option value="2">Maret</option>
                                <option value="3">April</option>
                                <option value="4">Mei</option>
                                <option value="5">Juni</option>
                                <option value="6" selected>Juli</option>
                                <option value="7">Agustus</option>
                                <option value="8">September</option>
                                <option value="9">Oktober</option>
                                <option value="10">November</option>
                                <option value="11">Desember</option>
                            </select>
                        </div>
                        <button class="filter-btn" onclick="filterRecap()">
                            <i class="fas fa-search"></i> Filter
                        </button>
                    </div>
                    <div class="calendar-container">
                        <div class="calendar-header">
                            <h3 id="calendarTitle">Rekap Presensi - Juli 2025</h3>
                        </div>
                        <div class="attendance-calendar" id="attendanceCalendar">
                            <!-- Calendar will be generated by JavaScript -->
                        </div>
                        <div class="calendar-legend">
                            <div class="legend-item">
                                <div class="legend-color present"></div>
                                <span>Hadir</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color absent"></div>
                                <span>Tidak Hadir</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color weekend"></div>
                                <span>Hari Libur</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- End Main Content -->
    </div> <!-- End Dashboard Layout -->

    <script src="../js/rekap-presensi.js"></script>
    <script src="../js/shared.js"></script>
</body>
</html>
